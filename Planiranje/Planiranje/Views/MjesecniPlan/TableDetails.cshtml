@model Planiranje.Models.MjesecniModel

@Html.HiddenFor(model => Model.ID_GODINA)

<table class="table table-bordered table-hover" id="dataTables-example">
	<thead>
		<tr>
			<td class="col-lg-1">
				#
			</td>
			<td class="col-lg-2">
				Aktivnosti
			</td>
			<td class="col-lg-2">
				Suradnici
			</td>
			<td class="col-lg-2">
				Područja
			</td>
			<td class="col-lg-1">
				Vrijeme
			</td>
			<td class="col-lg-1">
				Sati
			</td>
			<td class="col-lg-2">
				Bilješka
			</td>
			<td class="col-lg-1">
				Akcija
			</td>
		</tr>
	</thead>
	<tbody>

		@foreach (var item in Model.MjesecniDetalji)
		{
			<tr>
				<td>
					@Html.DisplayFor(modelItem => item.Red_br)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.Aktivnost)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.Suradnici)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.Podrucje)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.Vrijeme)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.Br_sati)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.Biljeska)
				</td>
				<td>
					<div class="pull-right">
						<button type="button" class="btn btn-primary btn-xs" data-url="@Html.Raw(@Url.Action("UpdateNoviDetalji","MjesecniPlan",new { id = item.ID, id_plan = item.ID_plan, id_god = Model.ID_GODINA }))" id="btnCreateAsset2">Uredi</button>
						<input type="button" class="btn btn-danger btn-xs" value="Briši" onclick='deleteDetail("@Html.Raw(@Url.Action("DeleteDetails","MjesecniPlan",new { id = item.ID, id_god = Model.ID_GODINA }))")' />
					</div>
				</td>
			</tr>
		}
	</tbody>
</table>

<div class="modal fade" id="assetModal2" tabindex="-1" role="dialog" aria-labelledby="assetModal" aria-hidden="true" data-backdrop="static">
	<div id="assetContainer2"></div>
</div>

<script>
	$(document).ready(function () {
		$("#btnCreateAsset2").click(function (e) {
			var url = $(this).attr("data-url");
			$.ajax({
				url: url,
				success: function (data) {
					$('#assetContainer2').html(data);
					$('#assetModal2').modal('show');
				},
				error: function (xhr, ajaxOptions, thrownError) { alert(xhr.responseText); }
			});
		});
	});
</script>
<script>
	function deleteDetail(value) {
		$.ajax({
			url: value,
			success: function (data, text) {
				$("#assetContainer").html(data);
				$('#assetModal').modal('show');
			},
			error: function (request, status, error) {
				alert(request.responseText);
			}
		});
	}
</script>
